<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>空間固定AR</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
<style>
    /* 既存のCSSに追加・修正 */
    #video-background {
        position: fixed; top: 0; left: 0; min-width: 100%; min-height: 100%;
        z-index: -2; /* 一番奥 */
        object-fit: cover;
    }
    
    a-scene {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        z-index: 1; /* ビデオの上、UIの下 */
        pointer-events: none; /* シーン自体はタップを貫通させる */
    }

    .ui-container {
        position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
        z-index: 1000; display: none; gap: 10px; width: 90%; max-width: 400px;
        pointer-events: auto; /* ボタンはタップできるように */
    }
</style>
</head>
<body>

    <div id="start-screen">
        <h1>空間固定AR</h1>
        <p>画面をタップして開始</p>
    </div>

    <video id="video-background" autoplay playsinline></video>

    <div class="ui-container" id="main-ui">
        <input type="file" id="fileInput" accept="image/*" style="display:none">
        <label for="fileInput" class="ui-btn" id="fileLabel">① 写真を選ぶ</label>
        <button class="ui-btn" id="shotBtn">② 写真を撮る</button>
    </div>

    <a-scene embedded vr-mode-ui="enabled: false">
        <a-entity id="myCamera" camera look-controls position="0 1.6 0"></a-entity>
        <a-entity id="ar-world"></a-entity>
    </a-scene>

    <script src="js/photoar.js"></script>
</body>
</html>